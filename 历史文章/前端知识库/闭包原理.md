# 闭包原理

## 闭包概念

在作用域或函数内部，声明一个函数，同时在函数内引用上层作用域或者函数的变量。这种情况下就形成了闭包。比如：

```JavaScript
function Demo () {
    const name = 'Hello Wrold!';

    const print = () => {
        // 形成闭包
        console.log(name);
    }

    return print;
}
```

## 闭包的优势和缺陷

闭包是指一个函数能够访问并操作其外部作用域中的变量，即使在其外部
作用域已经结束执行后仍然可以访问这些变量。常见应用场景包括：创建私有变量、函数柯里化、异步编程保持状态、模块化开发等。优点：增强代码灵活性、实现数据封装、维持变量状态。缺点：内存消耗大、可能导致内存泄漏、增加代码复杂度。

## 函数柯里化

```JavaScript

function curry(fn) {
    return function curried(...args) {
        if (args.length >= fn.length) {
            return fn.apply(this, args);
        } else {
            return function(...args2) {
                return curried.apply(this, args.concat(args2));
            };
        }
    };
}

function sum(a, b, c) {
    return a + b + c;
}

const curriedSum = curry(sum);
console.log(curriedSum(1, 2, 3)); // 输出：6
console.log(curriedSum(1)(2)(3)); // 输出：6
console.log(curriedSum(1, 2)(3)); // 输出：6
```

